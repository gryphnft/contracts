# GRY.PH NFT Smart Contracts

The contract defined here are to allow auditors to evaluate the contracts that
are designed and specifically for the purpose of the GRY.PH project. It
specifies the process of digitizing collectable designs. Some of the business
requirements include the following.

 - Ability to cheaply define a set of tokens that can be minted for each design which include the following.
   - Design information
   - Token quantity limits
   - Royalty Fees
 - Ability to mint tokens cheaply or,
   - Ability to facilitate air drops off chain and,
   - Ability for buyers to redeem air drops and pay the minting costs.
 - Ability for holders to list tokens in a decentralized manner and,
   - Ability for buyers to purchase listed tokens on any NFT marketplace while having,
   - Ability to distribute royalties no matter where it was exchanged

# Considerations

 - Use ERC1155 instead of ERC721
 - Use Enjin or Polygon instead of Ethereum

#### Compatibility

Solidity ^0.8.0

 - Recommended v0.8.4

## 1. Install

```bash
$ cp .env.sample to .env
$ npm install
```

You will need to provide an [Ethereum Private Key](https://www.myetherwallet.com/wallet/create/software?type=overview)
to deploy to a test net and a [Coin Market Cap Key](https://coinmarketcap.com/api/pricing/)
to see gas price conversions when testing.

## 2. Testing

Make sure in `hardhat.config.js` to set the `defaultNetwork` to `hardhat`.

```bash
npm test
```

## 3. Documentation

 - [ERC721](./contracts/token/ERC721/README.md)
 - [ERC1155](./contracts/token/ERC1155/README.md)

> WARNING: The contracts provided here are as is and GRY.PH does not warrant that these will work on a live environment. It is possible that these contracts are out dated and it is possible for GRY.PH to update these contracts without notification. Use at your own risk.

## 4. Reports

The following is an example gas report from the tests ran in this project and could change based on the cost of Ethereum itself.

<pre>
·----------------------------------------------------|---------------------------|-------------|-----------------------------·
|                Solc version: 0.8.4                 ·  Optimizer enabled: true  ·  Runs: 200  ·  Block limit: 12450000 gas  │
·····················································|···························|·············|······························
|  Methods                                           ·              200 gwei/gas               ·       2342.87 usd/eth       │
································|····················|·············|·············|·············|···············|··············
|  Contract                     ·  Method            ·  Min        ·  Max        ·  Avg        ·  # calls      ·  usd (avg)  │
································|····················|·············|·············|·············|···············|··············
|  ERC1155PresetVanilla         ·  mint              ·          -  ·          -  ·      48487  ·            1  ·      22.72  │
································|····················|·············|·············|·············|···············|··············
|  ERC1155PresetVanilla         ·  mintBatch         ·          -  ·          -  ·     241443  ·            1  ·     113.13  │
································|····················|·············|·············|·············|···············|··············
|  ERC1155PresetVanilla         ·  safeTransferFrom  ·          -  ·          -  ·      56837  ·            2  ·      26.63  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  burn              ·          -  ·          -  ·      19565  ·            1  ·       9.17  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  delist            ·          -  ·          -  ·      15652  ·            1  ·       7.33  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  exchange          ·      51994  ·      81146  ·      66570  ·            2  ·      31.19  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  list              ·      48050  ·      48086  ·      48074  ·            3  ·      22.53  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  redeem            ·          -  ·          -  ·      72361  ·            5  ·      33.91  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  removeFee         ·          -  ·          -  ·      19387  ·            1  ·       9.08  │
································|····················|·············|·············|·············|···············|··············
|  ERC721AirDrop                ·  setFee            ·      35202  ·     113194  ·      83087  ·            6  ·      38.93  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  burn              ·          -  ·          -  ·      19565  ·            1  ·       9.17  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  delist            ·          -  ·          -  ·      15608  ·            1  ·       7.31  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  exchange          ·      51972  ·      81124  ·      66548  ·            2  ·      31.18  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  list              ·      48050  ·      48086  ·      48074  ·            3  ·      22.53  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  mint              ·      76068  ·      93180  ·      90735  ·            7  ·      42.52  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  removeFee         ·          -  ·          -  ·      19410  ·            1  ·       9.10  │
································|····················|·············|·············|·············|···············|··············
|  ERC721Exchange               ·  setFee            ·      35202  ·     113194  ·      83087  ·            6  ·      38.93  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PreMint                ·  burn              ·          -  ·          -  ·      19553  ·            1  ·       9.16  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PreMint                ·  delist            ·          -  ·          -  ·      15652  ·            1  ·       7.33  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PreMint                ·  exchange          ·      52016  ·      81168  ·      66592  ·            2  ·      31.20  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PreMint                ·  list              ·      48094  ·      48130  ·      48118  ·            3  ·      22.55  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PreMint                ·  removeFee         ·          -  ·          -  ·      19387  ·            1  ·       9.08  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PreMint                ·  setFee            ·      35179  ·     113171  ·      83064  ·            6  ·      38.92  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetAirDrop          ·  redeem            ·      73259  ·      73293  ·      73276  ·            2  ·      34.34  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetContractURI      ·  mint              ·          -  ·          -  ·      90772  ·            1  ·      42.53  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangable      ·  exchange          ·          -  ·          -  ·      47549  ·            1  ·      22.28  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangable      ·  list              ·          -  ·          -  ·      48130  ·            1  ·      22.55  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangable      ·  mint              ·          -  ·          -  ·      90794  ·            1  ·      42.54  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangableFees  ·  exchange          ·          -  ·          -  ·      81168  ·            1  ·      38.03  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangableFees  ·  list              ·          -  ·          -  ·      48130  ·            1  ·      22.55  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangableFees  ·  mint              ·          -  ·          -  ·      90766  ·            1  ·      42.53  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetExchangableFees  ·  setFee            ·      78981  ·     113193  ·      96087  ·            2  ·      45.02  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetListable         ·  delist            ·          -  ·          -  ·      15652  ·            1  ·       7.33  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetListable         ·  list              ·          -  ·          -  ·      48094  ·            1  ·      22.54  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetListable         ·  mint              ·          -  ·          -  ·      90772  ·            1  ·      42.53  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetMaxQuantity      ·  mint              ·      75986  ·      93098  ·      84542  ·            2  ·      39.61  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetTransferFees     ·  removeFee         ·          -  ·          -  ·      19387  ·            1  ·       9.08  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetTransferFees     ·  setFee            ·      35179  ·     113159  ·      76564  ·            4  ·      35.88  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetVanilla          ·  mint              ·          -  ·          -  ·      90772  ·            1  ·      42.53  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetZeppelin         ·  burn              ·          -  ·          -  ·      27497  ·            1  ·      12.88  │
································|····················|·············|·············|·············|···············|··············
|  ERC721PresetZeppelin         ·  mint              ·          -  ·          -  ·     159628  ·            1  ·      74.80  │
································|····················|·············|·············|·············|···············|··············
|  Deployments                                       ·                                         ·  % of limit   ·             │
·····················································|·············|·············|·············|···············|··············
|  ERC1155PresetVanilla                              ·          -  ·          -  ·    1440468  ·       11.6 %  ·     674.97  │
·····················································|·············|·············|·············|···············|··············
|  ERC721AirDrop                                     ·    2114620  ·    2114632  ·    2114622  ·         17 %  ·     990.86  │
·····················································|·············|·············|·············|···············|··············
|  ERC721Exchange                                    ·          -  ·          -  ·    2051114  ·       16.5 %  ·     961.10  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PreMint                                     ·          -  ·          -  ·    1931709  ·       15.5 %  ·     905.15  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetAirDrop                               ·          -  ·          -  ·    1351135  ·       10.9 %  ·     633.11  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetContractURI                           ·          -  ·          -  ·    1310239  ·       10.5 %  ·     613.94  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetExchangable                           ·          -  ·          -  ·    1455607  ·       11.7 %  ·     682.06  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetExchangableFees                       ·          -  ·          -  ·    1784153  ·       14.3 %  ·     836.01  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetListable                              ·          -  ·          -  ·    1326918  ·       10.7 %  ·     621.76  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetMaxQuantity                           ·          -  ·          -  ·    1274767  ·       10.2 %  ·     597.32  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetPreMint                               ·          -  ·          -  ·    1224216  ·        9.8 %  ·     573.64  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetTransferFees                          ·          -  ·          -  ·    1457101  ·       11.7 %  ·     682.76  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetVanilla                               ·          -  ·          -  ·    1205766  ·        9.7 %  ·     564.99  │
·····················································|·············|·············|·············|···············|··············
|  ERC721PresetZeppelin                              ·          -  ·          -  ·    1467260  ·       11.8 %  ·     687.52  │
·----------------------------------------------------|-------------|-------------|-------------|---------------|-------------·
</pre>
